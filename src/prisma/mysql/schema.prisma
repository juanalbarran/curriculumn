generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("MYSQL_URL")
}

model User {
  id                    Int                 @id @default(autoincrement())
  createdAt             DateTime            @default(now())
  updatedAt             DateTime?
  name                  String
  lastName              String
  userName              String              @unique
  email                 String              @unique
  nationality           String
  birthPlace            String
  birthDate             DateTime
  address               Address?            @relation(fields: [userAddressId], references: [id])
  phone                 Phone?              @relation(fields: [userPhoneId], references: [id])
  workExperience        WorkExperience[]
  references            Reference[]
  userAddressId         Int
  userPhoneId           Int
}

model Address {
  id                    Int                 @id @default(autoincrement())
  country               String?             @unique
  city                  String?
  street                String?
  code                  Int?
  users                 User[]
}

model Phone {
  id                    Int                 @id @default(autoincrement())
  countryCode           Int
  phoneNumber           BigInt
  users                 User[]
  reference             Reference[]
}

model WorkExperience {
  id                    Int                 @id @default(autoincrement())
  title                 String
  description           String
  startDate             DateTime
  endDate               DateTime?
  user                  User                @relation(fields: [userId], references: [id])
  company               Company?            @relation(fields: [companyId], references: [id])
  userId                Int
  companyId             Int?
  technologies          Technology[]
  workActivity          WorkActivity[]
}

model WorkActivity {
  id                    Int                 @id @default(autoincrement())
  activity              String
  workExperience        WorkExperience      @relation(fields: [workExperienceId], references: [id])
  workExperienceId      Int
}

model Company {
  id                    Int                 @id @default(autoincrement())
  name                  String
  logo                  String
  workExperience        WorkExperience[]
}

model Technology {
  id                    Int                 @id @default(autoincrement())
  name                  String              @unique
  workExperience        WorkExperience[]
}

model Reference {
  id                    Int                 @id @default(autoincrement())
  name                  String
  lastName              String
  description           String
  phone                 Phone?               @relation(fields: [phoneId], references: [id])
  phoneId               Int
  user                  User?                @relation(fields: [userId], references: [id])
  userId                Int
}